#!/bin/bash
#
# adapted from bashbunni's zshrc example:
#
# https://gist.github.com/bashbunni/3880e4194e3f800c4c494de286ebc1d7

notif() {
	notify-send "'$val' session done"
	spd-say -t female3 -r +35 "'$val' session done"
}

if [ "$1" == "quick" ]; then
	val=$1
	echo -e "â±ï¸ $val â€§â‚ŠËšğŸŒˆâœ© â‚ŠËšğŸ«§âŠ¹â™¡" | lolcat -p 0.2
	timer "15m"
	notif
elif [ "$1" == "work" ]; then
	val=$1
	echo -e "â±ï¸ $val â€§â‚ŠËšğŸŒˆâœ© â‚ŠËšğŸ«§âŠ¹â™¡" | lolcat -p 0.2
	timer "45m"
	notif
elif [ "$1" == "break" ]; then
	val=$1
	echo -e "â±ï¸ $val â€§â‚ŠËšğŸŒˆâœ© â‚ŠËšğŸ«§âŠ¹â™¡" | lolcat -p 0.2
	timer "20m"
	notif
elif [ "$1" == "custom" ]; then
	val=$1
	choice=$(gum input --placeholder duration | awk '{print $0"m"}' )
	echo -e "â±ï¸ $val: $choice â€§â‚ŠËšğŸŒˆâœ© â‚ŠËšğŸ«§âŠ¹â™¡" | lolcat -p 0.2
	timer "$choice"
	notif
else
	echo -n "something failed"
fi
